<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Title: Best Practices for Test Environments: A Personal Journey
    </title>

    <link
      rel="stylesheet"
      href="../../node_modules/reveal.js/dist/reveal.css"
    />
    <link
      rel="stylesheet"
      href="../../node_modules/reveal.js/dist/theme/white.css"
    />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section
          data-markdown
          section
          data-transition="fade"
          data-background-gradient="linear-gradient(to bottom, #EA8324, #FFFFFF)"
          234
          131
          36
        >
          <textarea data-template>
            # Best Practices for Test Environments
            ---
            ## Introduction
            - test environments mitigate risk
          	- test environments provide a safe place to experiment
            - too many test environments enforce/reinforce/require slow & inefficient processes
            - too few (or poorly managed) test environments can artificially block and create confusion and traffic jams
	          
            ---
            ## Letâ€™s reboot

            - Throw out assumptions and history - start from scratch
            - What are our Foundational Principles?
            
            ---
            ## System Architecture

            - Backend
            - Data Warehouse
            - Clients
              - Web
              - iOS
              - Android

            ---
            ## Foundational Principles

            - all teams (client + backend) should be able to validate changes prior to launching in production
            - all teams (client + backend) should be able to safely debug production issues
            - mainline codebases should be kept clean from untested changes (as best as possible)
            - coordination between teams, branches, and features should be minimized (but will undoubtedly happen)
            - deployments should be co-owned between ENG/Ops, and must be delivered in under 10 minutes
            - clients "require" the backend
            - backend does not "need" a client
            
            ---
            # PROPOSAL

            ---
            ## Containers
            
            - What is a container?
                - software that packages code and its dependencies so the application runs quickly and reliably across computing environments
            - what does that mean?
	              - Theoretically a container can be spun up anywhere at anytime with the same code/dependencies as Production/STG/QA - allowing us to test changes independently in isolation
            
            ---
            ## Backend Containers
            - users: Dev, QA
            - container for testing all non-calling/non-texting features
            - *any* branch can be deployed here, by a Dev or QA
            - in practice, for change verification, it will mostly be feature branches
            - deploy on-demand
            - work outstanding
                - Backend team to complete investigation into supporting containerization
                - publish documentation to set up & use a local container
            
            ---
            ## QA Environment
            - users: Dev, QA
            - for testing calling/texting features
            - feature branches can go here
            - *any* branch can go here
            - deploys must be coordinated / scheduled. 1 hour mininimum, 4 hour maximum
            
            ---
            ## STG Env
            - users: Dev, QA, Product, Support
            - prod debugging
            - mainline code branch or production version only
            - final release validation
            - default for client integration testing
            - automated e2e tests
            - Monitor for issues and performance similar to production
            - Logging and reporting systems to track metrics, feature performance, etc as production
            - Set up automated alerts for critical incidents similar to production
            
            ---
            ## Automation
            - users: Dev, QA
            - backend
                - execute integration tests against backend containers (parallelized?)
            - client
                - stubbed integration with backend for daily/regular runs
                - full e2e nightly against STG

            ---
            ## Test Data
            - Invest in automation of weekly full production data snapshots (masked)
            - Both STG and QA get refreshes every Sunday night
            - Containers need a small reference dataset, otherwise managed on-demand by requirements of the feature

            ---
            ## Key Takeaways & Conclusions
            ### Parallel tracks
              1. scheduled testing in QA
              2. complete backend containerization work
              3. prod data snapshots
            ---
          </textarea>
        </section>
      </div>
    </div>

    <script src="../../node_modules/reveal.js/dist/reveal.js"></script>
    <script src="../../node_modules/reveal.js/plugin/markdown/markdown.js"></script>
    <script>
      Reveal.initialize({
        plugins: [RevealMarkdown],
      });
    </script>
  </body>
</html>
